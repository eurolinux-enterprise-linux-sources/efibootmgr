From bca20371ba27d3c1db0e4d2d1ec533971ccac18f Mon Sep 17 00:00:00 2001
From: Peter Jones <pjones@redhat.com>
Date: Tue, 21 Oct 2014 16:02:13 -0400
Subject: [PATCH 27/31] Actually /set/ the values we're using to the results of
 parsing the number.

This should fix https://github.com/vathpela/efibootmgr/issues/18

Signed-off-by: Peter Jones <pjones@redhat.com>
---
 src/efibootmgr/efibootmgr.c | 6 +++---
 1 file changed, 3 insertions(+), 3 deletions(-)

diff --git a/src/efibootmgr/efibootmgr.c b/src/efibootmgr/efibootmgr.c
index 4fe0448..73faffa 100644
--- a/src/efibootmgr/efibootmgr.c
+++ b/src/efibootmgr/efibootmgr.c
@@ -1089,7 +1089,7 @@ parse_opts(int argc, char **argv)
 				exit(1);
 			}
 
-			opts.bootnum = num;
+			opts.bootnum = result;
 			break;
 		}
 		case 'c':
@@ -1143,7 +1143,7 @@ parse_opts(int argc, char **argv)
 				exit(1);
 			}
 
-			opts.acpi_hid = num;
+			opts.acpi_hid = result;
 			break;
 		}
 		case 'i':
@@ -1232,7 +1232,7 @@ parse_opts(int argc, char **argv)
 				exit(1);
 			}
 
-			opts.acpi_uid = num;
+			opts.acpi_uid = result;
 			break;
 		}
 		case 'v':
-- 
2.7.4

